
<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/expenses/form.css" />
<%- include('../partials/nav') %>

<section>
  <img src="<%= user.profile.avatar %>" alt="">
  <h1>Expanse</h1>
  <% if (user) { %>
    <h2>Add a Expense</h2>
    <form action="/expenses" method="POST">
      <label for="price-input">Price: </label>
      <input type="text" id="price-input" name="price" autocomplete="off" placeholder="0">
      <label for="date-input">Date Spent:</label>
      <input type="datetime-local" name="date" min="2024-01-20T09:00" id="date-input">
      <label for="category-input">category: </label>
      <input type="text" id="category-input" name="category" autocomplete="off" placeholder="food">
      <label for="description-textarea"> Description: </label>
      <textarea type="text" id="description-textarea" placeholder="Enter description" name="description" autocomplete="off" rows="2" cols="30"></textarea>
      <label for="reasonable-input" ></label>
      <input type="checkbox" name="reasonable">
      <button type="submit">Add Expense</button>
    </form>
  <% } %>
  <h2>Expense list</h2>
  <table>
    <thread>
      <tr>
        <th>Price $</th>
        <th>Date</th>
        <!-- <th>Category</th> -->
        <th>Description</th>
        <th>Reasonable?</th>
      </tr>
    </thread>
    <tbody>
      <% expenses.forEach(expense => { %>
       <tr>
        <td><%= expense.price %></td>
        <td><%= expense.date.toLocaleString() %></td>
        <!-- <td><%= expense.category %></td> -->
        <td><%= expense.description %></td>
        <td><%= expense.reasonable ? 'reasonable' : 'not reasonable' %></td>
       </tr>
      <% }) %>
    </tbody>
  </table>
</section>

<%- include('../partials/footer') %>